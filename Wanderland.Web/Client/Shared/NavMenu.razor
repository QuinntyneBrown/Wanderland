@using Wanderland.Web.Shared
@inject HttpClient http

<MudNavMenu>
    <MudNavLink Href="/swagger" Target="_blank" Match="NavLinkMatch.All" Icon="@Icons.Material.Filled.Api">Swagger UI</MudNavLink>
    <MudNavLink Href="http://localhost:8080" Target="_blank" Match="NavLinkMatch.All" Icon="@Icons.Material.Filled.AreaChart">Orleans Dashboard</MudNavLink>
    <MudNavGroup Icon="@Icons.Material.Filled.Home" Title="Worlds">
    @foreach (var world in _worlds)
    {
        <MudNavLink Href="" Match="NavLinkMatch.All" Icon="@Icons.Material.Filled.Home">@world</MudNavLink>
    }
    </MudNavGroup>
    
</MudNavMenu>

@code
{
    List<string> _worlds = new List<string>();

    protected override async Task OnInitializedAsync()
    {
        var apiClient = new WanderlandHttpApiClient(http);
        _worlds = (await apiClient.GetWorlds()).Select(x => x.Name).ToList();

        await base.OnInitializedAsync();
    }
}